<?php

function gcd_two_numbers($x, $y) {
	$x = abs($x);
	$y = abs($y);
	while ($y) {
		$t = $y;
		$y = $x % $y;
		$x = $t;
	}
	return $x;
}

function checkLineOfSight($x1, $y1, $x2, $y2, $map) {
	if ($map[$y2][$x2] !== "#") return false;
	if ($map[$y1][$x1] !== "#") return false;
	if ($y2 === $y1 && $x2 === $x1) return false;
	$dy = $y2 - $y1;
	$dx = $x2 - $x1;
	if ($dx === $dy && $dy === 0) {
	} else {
		$gcd = gcd_two_numbers($dy, $dx);
		$dy /= $gcd;
		$dx /= $gcd;
	}
	$x = $x1 + $dx;
	$y = $y1 + $dy;
	while ($map[$y] && $map[$y][$x]) {
		if ($map[$y][$x] === "#") {
			if ($y === $y2 && $x === $x2) {
				return true;
			}
			return false;
		}
		$y += $dy;
		$x += $dx;
	}
}

$field = [
	'.#......#...#.....#..#......#..##..#',
	'..#.......#..........#..##.##.......',
	'##......#.#..#..#..##...#.##.###....',
	'..#........#...........#.......##...',
	'.##.....#.......#........#..#.#.....',
	'.#...#...#.....#.##.......#...#....#',
	'#...#..##....#....#......#..........',
	'....#......#.#.....#..#...#......#..',
	'......###.......#..........#.##.#...',
	'#......#..#.....#..#......#..#..####',
	'.##...##......##..#####.......##....',
	'.....#...#.........#........#....#..',
	'....##.....#...#........#.##..#....#',
	'....#........#.###.#........#...#..#',
	'....#..#.#.##....#.........#.....#.#',
	'##....###....##..#..#........#......',
	'.....#.#.........#.......#....#....#',
	'.###.....#....#.#......#...##.##....',
	'...##...##....##.........#...#......',
	'.....#....##....#..#.#.#...##.#...#.',
	'#...#.#.#.#..##.#...#..#..#..#......',
	'......#...#...#.#.....#.#.....#.####',
	'..........#..................#.#.##.',
	'....#....#....#...#..#....#.....#...',
	'.#####..####........#...............',
	'#....#.#..#..#....##......#...#.....',
	'...####....#..#......#.#...##.....#.',
	'..##....#.###.##.#.##.#.....#......#',
	'....#.####...#......###.....##......',
	'.#.....#....#......#..#..#.#..#.....',
	'..#.......#...#........#.##...#.....',
	'#.....####.#..........#.#.......#...',
	'..##..#..#.....#.#.........#..#.#.##',
	'.........#..........##.#.##.......##',
	'#..#.....#....#....#.#.......####..#',
	'..............#.#...........##.#.#..',
];
$map = [];
foreach($field as $row) {
	$map[] = str_split($row);
}
$resultMap = $map;

$maxCount = 0;
$maxX = 0;
$maxY = 0;
for ($y = 0; $y < count($map); $y++) {
	for ($x = 0; $x < count($map[0]); $x++) {
		$count = 0;
		for ($y2 = 0; $y2 < count($map); $y2++) {
			for ($x2 = 0; $x2 < count($map[0]); $x2++) {
				$count += checkLineOfSight($x, $y, $x2, $y2, $map);
			}
		}
		$resultMap[$y][$x] = $count;
		if ($count > $maxCount) {
			$maxCount = $count;
			$maxX = $x;
			$maxY = $y;
		}
	}
}

echo $maxCount, ' ', $maxX, ' ', $maxY, PHP_EOL;